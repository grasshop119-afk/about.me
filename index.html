<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ask.me</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.12.2/lottie.min.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-firestore-compat.js"></script>
    <style>
        * { margin: 0; padding: 0; user-select: none; -webkit-tap-highlight-color: transparent; box-sizing: border-box; }
        body { 
            background: #000; 
            color: #fff; 
            font-family: -apple-system, sans-serif; 
            min-height: 100vh; 
            padding-top: 100px;
        }
        .header { 
            position: fixed; 
            top: 0; 
            width: 100%; 
            background: #000; 
            padding: 34px 24px 20px;
            z-index: 100; 
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .logo { 
            font-family: 'Montserrat', sans-serif; 
            font-weight: 700; 
            font-size: 24px; 
            color: #fff; 
        }
        .logo-dot, .logo-me, .accent-color { 
            color: #007AFF;
        }
        .profile-container { 
            padding: 0 24px; 
            max-width: 480px; 
            margin-left: auto; 
            margin-right: auto; 
            display: flex;
            flex-direction: column;
            min-height: calc(100vh - 160px);
        }
        .profile-info { 
            display: flex; 
            align-items: center; 
            gap: 16px; 
            margin-bottom: 40px;
            position: relative;
        }
        .avatar-frame { 
            width: 64px;
            height: 64px;
            background: #2C2C2E; 
            border-radius: 50%; 
            flex-shrink: 0; 
            overflow: hidden; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
        }
        .avatar-frame img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .user-info { 
            display: flex; 
            flex-direction: column; 
            gap: 2px; 
        }
        .user-name-container { 
            display: flex; 
            align-items: center; 
            gap: 8px;
        }
        .user-name { 
            font-weight: 700; 
            font-size: 24px; 
        }
        .user-username { 
            font-size: 14px; 
            color: rgba(255,255,255,0.7); 
        }
        .verified-icon { 
            display: flex; 
            align-items: center; 
            justify-content: center; 
        }
        .verified-icon img { 
            width: 22px; 
            height: 22px; 
        }
        .copy-link-icon {
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            cursor: pointer;
            opacity: 0.7;
        }
        .copy-link-icon:hover {
            opacity: 1;
        }
        .divider {
            width: 100%;
            height: 1px;
            background: #333;
            margin-bottom: 20px;
        }
        .tabs {
            display: flex;
            margin-bottom: 32px;
        }
        .tab {
            flex: 1;
            text-align: center;
            padding: 12px 0;
            font-size: 16px;
            color: rgba(255,255,255,0.7);
            cursor: pointer;
            transition: color 0.2s;
        }
        .tab.active {
            color: #007AFF;
        }
        .content-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin-top: -40px;
        }
        .content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: rgba(255,255,255,0.5);
            font-size: 16px;
            text-align: center;
            min-height: 300px;
            width: 100%;
        }
        .sticker-container {
            width: 150px;
            height: 150px;
            margin-bottom: 20px;
        }
        .action-button {
            background: #007AFF;
            color: white;
            border: none;
            border-radius: 10px;
            padding: 14px 20px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            margin-top: 20px;
            width: 100%;
            max-width: 300px;
            transition: opacity 0.2s;
        }
        .action-button:hover {
            opacity: 0.9;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght=700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="logo">ask<span class="logo-dot">.</span><span class="logo-me">me</span></div>
    </header>
    
    <div class="profile-container">
        <div class="profile-info">
            <div class="avatar-frame" id="user-avatar">
                <!-- –ê–≤–∞—Ç–∞—Ä –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è —á–µ—Ä–µ–∑ Telegram Web App -->
            </div>
            <div class="user-info">
                <div class="user-name-container">
                    <div class="user-name" id="user-first-name">User</div>
                    <div class="verified-icon" id="verified-icon" style="display: none;">
                        <img src="https://img.icons8.com/?size=100&id=8jOLgduf9aBf&format=png&color=000000" alt="">
                    </div>
                </div>
                <div class="user-username" id="user-username">@user000</div>
            </div>
            <div class="copy-link-icon" id="copy-link-icon" style="display: none;">
                <img src="https://img.icons8.com/ios-filled/50/007AFF/copy.png" alt="Copy" style="width: 20px; height: 20px;">
            </div>
        </div>

        <div class="divider"></div>

        <div class="tabs">
            <div class="tab active" data-tab="ideas">–ò–¥–µ–∏</div>
            <div class="tab" data-tab="questions">–í–æ–ø—Ä–æ—Å—ã</div>
            <div class="tab" data-tab="answers">–û—Ç–≤–µ—Ç—ã</div>
        </div>

        <div class="content-area">
            <div class="content" id="ideas-content">
                <div class="sticker-container" id="sticker-ideas"></div>
                –ò–¥–µ–π –ø–æ–∫–∞ –Ω–µ—Ç
                <button class="action-button" id="idea-button" style="display: none;">–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∏–¥–µ—é</button>
            </div>
            <div class="content" id="questions-content" style="display: none;">
                <div class="sticker-container" id="sticker-questions"></div>
                –í–æ–ø—Ä–æ—Å–æ–≤ –µ—â–µ –Ω–µ –∑–∞–¥–∞–≤–∞–ª–∏
                <button class="action-button" id="question-button" style="display: none;">–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å</button>
            </div>
            <div class="content" id="answers-content" style="display: none;">
                <div class="sticker-container" id="sticker-answers"></div>
                <span id="answers-text">User –ø–æ–∫–∞ –Ω–µ –æ—Ç–≤–µ—á–∞–ª –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã</span>
            </div>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        let tg = window.Telegram.WebApp;
        
        // Firebase –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
        const firebaseConfig = {
            apiKey: "AIzaSyDrvqEb5GMrWaCLSd3aHEdOQIDA321v_BA",
            authDomain: "chibeki-ideas.firebaseapp.com",
            projectId: "chibeki-ideas",
            storageBucket: "chibeki-ideas.firebasestorage.app",
            messagingSenderId: "31211023786",
            appId: "1:31211023786:web:35343c74dbf73a50f6cfd3"
        };
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        
        // –†–∞—Å—à–∏—Ä—è–µ–º Web App –Ω–∞ –≤—Å—é –≤—ã—Å–æ—Ç—É
        tg.expand();
        
        // –ü–æ–ª—É—á–∞–µ–º –∞–∫—Ü–µ–Ω—Ç–Ω—ã–π —Ü–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        let accentColor = '#007AFF';
        
        if (tg.themeParams && tg.themeParams.accent_text_color) {
            accentColor = tg.themeParams.accent_text_color;
        } else if (tg.themeParams && tg.themeParams.button_color) {
            accentColor = tg.themeParams.button_color;
        }
        
        // –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
        let currentUser = null;
        let profileUser = null; // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Ñ–∏–ª—è
        let isOwnProfile = false;
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∞–∫—Ü–µ–Ω—Ç–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞
        function applyAccentColor(color) {
            // –õ–æ–≥–æ—Ç–∏–ø
            document.querySelectorAll('.logo-dot, .logo-me').forEach(el => {
                el.style.color = color;
            });
            
            // –ê–∫—Ç–∏–≤–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏
            document.querySelectorAll('.tab.active').forEach(el => {
                el.style.color = color;
            });
            
            // –ö–Ω–æ–ø–∫–∏
            document.querySelectorAll('.action-button').forEach(el => {
                el.style.background = color;
            });
            
            // –ò–∫–æ–Ω–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
            const copyIcon = document.getElementById('copy-link-icon');
            if (copyIcon) {
                copyIcon.innerHTML = `<img src="https://img.icons8.com/ios-filled/50/${color.substring(1)}/copy.png" alt="Copy" style="width: 20px; height: 20px;">`;
            }
            
            // –ò–∫–æ–Ω–∫–∞ –≥–∞–ª–æ—á–∫–∏
            const verifiedIcon = document.querySelector('.verified-icon img');
            if (verifiedIcon) {
                verifiedIcon.style.filter = 
                    `invert(36%) sepia(90%) saturate(2476%) hue-rotate(${getHueFromHex(color)}deg) brightness(102%) contrast(101%)`;
            }
        }
        
        // –ü—Ä–∏–º–µ–Ω—è–µ–º –∞–∫—Ü–µ–Ω—Ç–Ω—ã–π —Ü–≤–µ—Ç —Å—Ä–∞–∑—É
        applyAccentColor(accentColor);
        
        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è hue –∏–∑ hex —Ü–≤–µ—Ç–∞
        function getHueFromHex(hex) {
            const r = parseInt(hex.slice(1, 3), 16) / 255;
            const g = parseInt(hex.slice(3, 5), 16) / 255;
            const b = parseInt(hex.slice(5, 7), 16) / 255;
            
            const max = Math.max(r, g, b);
            const min = Math.min(r, g, b);
            let hue = 0;
            
            if (max === min) {
                hue = 0;
            } else {
                const d = max - min;
                switch (max) {
                    case r: hue = (g - b) / d + (g < b ? 6 : 0); break;
                    case g: hue = (b - r) / d + 2; break;
                    case b: hue = (r - g) / d + 4; break;
                }
                hue /= 6;
            }
            
            return Math.round(hue * 360);
        }
        
        // –ü–æ–ª—É—á–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ URL (–¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —á–µ–π –ø—Ä–æ—Ñ–∏–ª—å)
        function getProfileFromUrl() {
            const params = new URLSearchParams(window.location.search);
            const profileId = params.get('user') || params.get('id');
            
            if (profileId) {
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è –∏–∑ Firebase
                db.collection('users').doc(profileId).get()
                    .then(doc => {
                        if (doc.exists) {
                            profileUser = doc.data();
                            profileUser.id = profileId;
                            updateProfileUI();
                        } else {
                            // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—É—â–µ–≥–æ
                            profileUser = currentUser;
                            isOwnProfile = true;
                        }
                        updateProfileUI();
                    })
                    .catch(error => {
                        console.error('Error loading profile:', error);
                        profileUser = currentUser;
                        isOwnProfile = true;
                        updateProfileUI();
                    });
            } else {
                // –ï—Å–ª–∏ –Ω–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–∞, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                profileUser = currentUser;
                isOwnProfile = true;
                updateProfileUI();
            }
        }
        
        // –û–±–Ω–æ–≤–ª—è–µ–º UI –ø—Ä–æ—Ñ–∏–ª—è
        function updateProfileUI() {
            if (!profileUser) return;
            
            // –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            if (profileUser.first_name) {
                document.getElementById('user-first-name').textContent = profileUser.first_name;
            }
            
            // –Æ–∑–µ—Ä–Ω–µ–π–º
            if (profileUser.username) {
                document.getElementById('user-username').textContent = '@' + profileUser.username;
                
                // –ì–∞–ª–æ—á–∫–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è @ya_admin7
                if (profileUser.username === 'ya_admin7') {
                    document.getElementById('verified-icon').style.display = 'flex';
                }
            }
            
            // –ê–≤–∞—Ç–∞—Ä
            const avatarContainer = document.getElementById('user-avatar');
            avatarContainer.innerHTML = '';
            
            if (profileUser.photo_url) {
                const avatarImg = document.createElement('img');
                avatarImg.src = profileUser.photo_url;
                avatarImg.alt = 'Avatar';
                avatarContainer.appendChild(avatarImg);
            } else {
                const avatarPlaceholder = document.createElement('div');
                avatarPlaceholder.style.width = '100%';
                avatarPlaceholder.style.height = '100%';
                avatarPlaceholder.style.backgroundColor = '#2C2C2E';
                avatarPlaceholder.style.display = 'flex';
                avatarPlaceholder.style.alignItems = 'center';
                avatarPlaceholder.style.justifyContent = 'center';
                avatarPlaceholder.style.color = '#8E8E93';
                avatarPlaceholder.style.fontSize = '24px';
                avatarPlaceholder.innerHTML = 'üë§';
                avatarContainer.appendChild(avatarPlaceholder);
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –≤ –æ—Ç–≤–µ—Ç–∞—Ö —Å –∏–º–µ–Ω–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const answersText = document.getElementById('answers-text');
            if (answersText && profileUser.first_name) {
                answersText.textContent = `${profileUser.first_name} –ø–æ–∫–∞ –Ω–µ –æ—Ç–≤–µ—á–∞–ª –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã`;
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–∫–æ–Ω–∫—É –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Å—ã–ª–∫–∏
            document.getElementById('copy-link-icon').style.display = 'block';
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ —Å–≤–æ–π –ª–∏ —ç—Ç–æ –ø—Ä–æ—Ñ–∏–ª—å
            if (currentUser && profileUser.id === currentUser.id) {
                isOwnProfile = true;
                // –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ –¥–ª—è —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è
                document.getElementById('idea-button').style.display = 'none';
                document.getElementById('question-button').style.display = 'none';
            } else {
                isOwnProfile = false;
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ –¥–ª—è —á—É–∂–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è
                document.getElementById('idea-button').style.display = 'block';
                document.getElementById('question-button').style.display = 'block';
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–æ–∫ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∫–ª–∞–¥–∫–∏
                updateActionButtons();
            }
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∫–ª–∞–¥–∫–∏
        function updateActionButtons() {
            if (isOwnProfile) return;
            
            const activeTab = document.querySelector('.tab.active').getAttribute('data-tab');
            
            if (activeTab === 'ideas') {
                document.getElementById('idea-button').style.display = 'block';
                document.getElementById('idea-button').textContent = '–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∏–¥–µ—é';
                document.getElementById('question-button').style.display = 'none';
            } else if (activeTab === 'questions') {
                document.getElementById('question-button').style.display = 'block';
                document.getElementById('question-button').textContent = '–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å';
                document.getElementById('idea-button').style.display = 'none';
            } else {
                document.getElementById('idea-button').style.display = 'none';
                document.getElementById('question-button').style.display = 'none';
            }
        }
        
        // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–∏
        function copyReferralLink() {
            if (!profileUser) return;
            
            // –°–æ–∑–¥–∞–µ–º —Å—Å—ã–ª–∫—É
            const baseUrl = window.location.origin + window.location.pathname;
            const referralUrl = `${baseUrl}?user=${profileUser.id}`;
            
            // –ö–æ–ø–∏—Ä—É–µ–º –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
            navigator.clipboard.writeText(referralUrl)
                .then(() => {
                    tg.showAlert('–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!');
                    
                    // –í–∏–±—Ä–∞—Ü–∏—è –≤ Telegram
                    if (tg.isVersionAtLeast('6.1')) {
                        tg.HapticFeedback.impactOccurred('light');
                    }
                })
                .catch(err => {
                    console.error('Error copying:', err);
                });
        }
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        currentUser = tg.initDataUnsafe.user;
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–æ—Ñ–∏–ª—å
        getProfileFromUrl();
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç–∏–∫–µ—Ä—ã
        function loadSticker(stickerId, containerId) {
            fetch('Stickers/Nothing.json')
                .then(response => response.json())
                .then(data => {
                    lottie.loadAnimation({
                        container: document.getElementById(containerId),
                        renderer: 'svg',
                        loop: true,
                        autoplay: true,
                        animationData: data
                    });
                })
                .catch(error => {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∏–∫–µ—Ä–∞:', error);
                    document.getElementById(containerId).innerHTML = 
                        '<div style="color:rgba(255,255,255,0.3);text-align:center;padding:20px;font-size:48px;">‚óã</div>';
                });
        }
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç–∏–∫–µ—Ä—ã –¥–ª—è –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫
        loadSticker('nothing', 'sticker-ideas');
        loadSticker('nothing', 'sticker-questions');
        loadSticker('nothing', 'sticker-answers');
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∫–ª–∞–¥–æ–∫
        const tabs = document.querySelectorAll('.tab');
        const contents = document.querySelectorAll('.content');
        
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                // –í–∏–±—Ä–∞—Ü–∏—è –≤ Telegram
                if (tg.isVersionAtLeast('6.1')) {
                    tg.HapticFeedback.impactOccurred('light');
                }
                
                // –°–º–µ–Ω–∞ –≤–∫–ª–∞–¥–æ–∫
                tabs.forEach(t => {
                    t.classList.remove('active');
                    t.style.color = '';
                });
                
                contents.forEach(c => c.style.display = 'none');
                
                tab.classList.add('active');
                tab.style.color = accentColor;
                
                const tabId = tab.getAttribute('data-tab');
                document.getElementById(`${tabId}-content`).style.display = 'flex';
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
                updateActionButtons();
            });
        });
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π
        document.getElementById('idea-button').addEventListener('click', function() {
            if (!isOwnProfile && profileUser) {
                tg.showAlert(`–ò–¥–µ—è –¥–ª—è ${profileUser.first_name} –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è!`);
                
                // –í–∏–±—Ä–∞—Ü–∏—è
                if (tg.isVersionAtLeast('6.1')) {
                    tg.HapticFeedback.impactOccurred('medium');
                }
            }
        });
        
        document.getElementById('question-button').addEventListener('click', function() {
            if (!isOwnProfile && profileUser) {
                tg.showAlert(`–í–æ–ø—Ä–æ—Å –¥–ª—è ${profileUser.first_name} –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è!`);
                
                // –í–∏–±—Ä–∞—Ü–∏—è
                if (tg.isVersionAtLeast('6.1')) {
                    tg.HapticFeedback.impactOccurred('medium');
                }
            }
        });
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Å—ã–ª–∫–∏
        document.getElementById('copy-link-icon').addEventListener('click', copyReferralLink);
        
        // –û–±–Ω–æ–≤–ª—è–µ–º —Ü–≤–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–µ–º—ã
        tg.onEvent('themeChanged', function() {
            if (tg.themeParams && tg.themeParams.accent_text_color) {
                accentColor = tg.themeParams.accent_text_color;
                applyAccentColor(accentColor);
                
                document.querySelectorAll('.tab.active').forEach(el => {
                    el.style.color = accentColor;
                });
            }
        });
    </script>
</body>
</html>
